(function(){"use strict";var t={895:function(t,e,n){var a=n(9242),r=n(6265),o=n.n(r),i=n(6423),u=n(3396);function c(t,e){const n=(0,u.up)("router-view");return(0,u.wg)(),(0,u.j4)(n)}var s=n(89);const l={},d=(0,s.Z)(l,[["render",c]]);var p=d,f=n(2483);const g={class:"wrapper"},m={class:"container"},h={href:"#",class:"btn btn-warning text-white gotop"};function b(t,e,n,r,o,i){const c=(0,u.up)("HeaderSearch"),s=(0,u.up)("Card"),l=(0,u.up)("Pagination"),d=(0,u.up)("Footer");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(c),(0,u._)("div",g,[(0,u._)("section",m,[(0,u.Wm)(s),(0,u.Wm)(l)]),(0,u.Wm)(d)]),(0,u.wy)((0,u._)("a",h,"▲",512),[[a.F8,r.showBtn]])],64)}var w=n(4870),v=n(65),P=n(7139);const y=t=>((0,u.dD)("data-v-ea5244d0"),t=t(),(0,u.Cn)(),t),_={class:"header"},N=y((()=>(0,u._)("h1",{class:"text-center text-white bg-dark bg-opacity-50 py-3"}," PeeTaipei 台北尿尿網 ",-1))),D={class:"container search-bar-wrap"},k={class:"text-white"},x=(0,u.Uk)(" 總共"),j={class:"text-warning"},O=(0,u.Uk)("個廁所點 "),C={class:"text-white"},S=(0,u.Uk)(" 搜尋到"),F={class:"text-warning"},R=(0,u.Uk)("個廁所點 ");function z(t,e,n,r,o,i){return(0,u.wg)(),(0,u.iD)("header",_,[N,(0,u._)("div",D,[(0,u.wy)((0,u._)("input",{class:"form-control",type:"search",placeholder:"請輸入區或路名尋找附近的廁所","aria-label":"Search","onUpdate:modelValue":e[0]||(e[0]=t=>r.inputDistRoad=t)},null,512),[[a.nr,r.inputDistRoad]]),(0,u.wy)((0,u._)("p",k,[x,(0,u._)("span",j,(0,P.zw)(r.toileAllNum),1),O],512),[[a.F8,r.toileSearchtNum===r.toileAllNum]]),(0,u.wy)((0,u._)("p",C,[S,(0,u._)("span",F,(0,P.zw)(r.toileSearchtNum),1),R],512),[[a.F8,r.toileSearchtNum!==r.toileAllNum]])])])}var T={setup(){const t=(0,v.oR)(),e=(0,w.iH)(""),n=(0,u.Fl)((()=>t.state.toiletData.length)),a=(0,u.Fl)((()=>t.getters.filterData.length));return(0,u.YP)(e,(()=>{t.commit("inputDistRoad",e.value),t.commit("countPage")})),{inputDistRoad:e,toileAllNum:n,toileSearchtNum:a}}};const A=(0,s.Z)(T,[["render",z],["__scopeId","data-v-ea5244d0"]]);var E=A;const M={class:"row"},U={class:"card h-100"},Z={class:"card-header bg-secondary"},H={class:"mb-0 text-white"},Y={class:"text-warning"},W={class:"card-body d-flex flex-column justify-content-between"},B={class:"card-title mb-3"},L={class:"d-flex align-items-center justify-content-between"},$={class:"mb-0 text-danger d-inline-block pe-3 mb-2"},q=(0,u._)("br",null,null,-1),I=["onClick"];function K(t,e,n,r,o,i){return(0,u.wg)(),(0,u.iD)("div",M,[((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(r.showData,((t,e)=>((0,u.wg)(),(0,u.iD)("div",{class:"col col-12 col-md-6 col-lg-4 my-2",key:e},[(0,u._)("div",U,[(0,u._)("div",Z,[(0,u._)("p",H,[(0,u.Uk)((0,P.zw)(r.currentPageNum+1)+"-"+(0,P.zw)(e+1)+" 公廁名稱 : ",1),(0,u._)("span",Y,(0,P.zw)(t.公廁名稱),1)])]),(0,u._)("div",W,[(0,u._)("h6",B,"地址: "+(0,P.zw)(t.公廁地址),1),(0,u._)("div",L,[(0,u._)("p",$,[(0,u.Uk)(" 經度: "+(0,P.zw)(t.經度)+" ",1),q,(0,u.Uk)("緯度: "+(0,P.zw)(t.緯度),1)]),(0,u._)("a",{href:"#",class:"btn btn-outline-dark text-nowrap",onClick:(0,a.iM)((e=>r.goMap(t.緯度,t.經度)),["prevent"])},"地圖",8,I)])])])])))),128))])}var V={setup(){const t=(0,v.oR)(),e=(0,u.Fl)((()=>t.getters.showData)),n=(0,u.Fl)((()=>t.state.currentPageNum));function a(t,e){console.log(t,e),window.location.href=`https://www.google.com.tw/maps/place/${t},${e}`}return{showData:e,currentPageNum:n,goMap:a}}};const G=(0,s.Z)(V,[["render",K]]);var J=G;const Q={class:"pagination d-flex justify-content-center align-items-center py-4"},X=["disabled"],tt={class:"mb-0"},et=["disabled"];function nt(t,e,n,a,r,o){return(0,u.wg)(),(0,u.iD)("div",Q,[(0,u._)("button",{type:"button",class:"btn btn-outline-dark mx-2",onClick:e[0]||(e[0]=t=>a.switchPage("previous")),disabled:0===a.currentPageNum}," 前一頁 ",8,X),(0,u._)("p",tt,"目前第"+(0,P.zw)(a.currentPageNum+1)+"頁 / 共"+(0,P.zw)(a.totalPageNum)+"頁",1),(0,u._)("button",{type:"button",class:"btn btn-outline-dark mx-2",onClick:e[1]||(e[1]=t=>a.switchPage("next")),disabled:a.currentPageNum+1===a.totalPageNum}," 下一頁 ",8,et)])}var at={setup(){const t=(0,v.oR)(),e=(0,u.Fl)((()=>t.state.currentPageNum)),n=(0,u.Fl)((()=>t.state.totalPageNum));function a(e){t.commit("switchPage",e)}return{currentPageNum:e,totalPageNum:n,switchPage:a}}};const rt=(0,s.Z)(at,[["render",nt]]);var ot=rt;const it={class:"footer bg-dark text-secondary text-center py-3 mt-auto"},ut=(0,u.Uk)(" PeeTaipei 關心您尿尿的地方"),ct=(0,u._)("br",null,null,-1),st=(0,u._)("span",{class:"fz-14"},"Copyright ©2022 Chen ChienYu",-1),lt=[ut,ct,st];function dt(t,e){return(0,u.wg)(),(0,u.iD)("footer",it,lt)}const pt={},ft=(0,s.Z)(pt,[["render",dt]]);var gt=ft,mt={components:{HeaderSearch:E,Card:J,Pagination:ot,Footer:gt},setup(){const t=(0,v.oR)(),e=(0,w.iH)(!1);return t.dispatch("getApi"),(0,u.bv)((()=>{window.addEventListener("scroll",(()=>{window.scrollY>500?e.value=!0:e.value=!1}))})),{showBtn:e}}};const ht=(0,s.Z)(mt,[["render",b]]);var bt=ht;const wt=[{path:"/",name:"home",component:bt},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,7381))}],vt=(0,f.p7)({history:(0,f.r5)(),routes:wt});var Pt=vt,yt=(n(2166),(0,v.MT)({state:{inputDistRoad:"",toiletData:[],eachPageData:[],totalPageNum:0,currentPageNum:0},getters:{filterData(t){return t.toiletData.filter((e=>e.公廁地址.match(t.inputDistRoad)))},showData(t){return t.eachPageData[t.currentPageNum]}},mutations:{gettoilet(t,e){t.toiletData=e},countPage(t){t.eachPageData=[],t.totalPageNum=Math.ceil(this.getters.filterData.length/30);for(let e=0;e<t.totalPageNum;e+=1){const n=this.getters.filterData.slice(30*e,30*e+30);t.eachPageData.push(n)}t.currentPageNum=0},switchPage(t,e){"previous"===e&&0!==t.currentPageNum&&(t.currentPageNum-=1),"next"===e&&t.currentPageNum+1!==t.totalPageNum&&(t.currentPageNum+=1)},inputDistRoad(t,e){t.inputDistRoad=e}},actions:{getApi(t){const e="data/64e392a0fcb63fa9fb1f596bcb86e96b_export.json";o().get(e).then((e=>{console.log(e),t.commit("gettoilet",e.data),t.commit("countPage")}))}},modules:{}}));const _t=(0,a.ri)(p).use(yt);_t.use(i.Z,o()),_t.use(Pt),_t.mount("#app")}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a](o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,r,o){if(!a){var i=1/0;for(l=0;l<t.length;l++){a=t[l][0],r=t[l][1],o=t[l][2];for(var u=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[c])}))?a.splice(c--,1):(u=!1,o<i&&(i=o));if(u){t.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/about.e79ad2b1.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-pee-taipei:";n.l=function(a,r,o,i){if(t[a])t[a].push(r);else{var u,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var d=s[l];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+o){u=d;break}}u||(c=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",e+o),u.src=a),t[a]=[r];var p=function(e,n){u.onerror=u.onload=null,clearTimeout(f);var r=t[a];if(delete t[a],u.parentNode&&u.parentNode.removeChild(u),r&&r.forEach((function(t){return t(n)})),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),c&&document.head.appendChild(u)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/peeTaipei/"}(),function(){var t={143:0};n.f.j=function(e,a){var r=n.o(t,e)?t[e]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=t[e]=[n,a]}));a.push(r[2]=o);var i=n.p+n.u(e),u=new Error,c=function(a){if(n.o(t,e)&&(r=t[e],0!==r&&(t[e]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,r[1](u)}};n.l(i,c,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,i=a[0],u=a[1],c=a[2],s=0;if(i.some((function(e){return 0!==t[e]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(c)var l=c(n)}for(e&&e(a);s<i.length;s++)o=i[s],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(l)},a=self["webpackChunkvue_pee_taipei"]=self["webpackChunkvue_pee_taipei"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(895)}));a=n.O(a)})();
//# sourceMappingURL=app.96d66df9.js.map